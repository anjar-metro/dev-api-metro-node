const dataVirtual = {
    data: [
        { id: 1, no: 1, nik :"123547586879709808", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 2, no: 2, nik :"816236123123123123", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 3, no: 3, nik :"123124234635686787", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 4, no: 4, nik :"906124162342634612", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 5, no: 5, nik :"666666666666666666", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 6, no: 6, nik :"123547586879709808", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 7, no: 7, nik :"816236123123123123", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 8, no: 8, nik :"123124234635686787", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 9, no: 9, nik :"906124162342634612", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 10, no: 10, nik :"666666666666666666", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 11, no: 11, nik :"123547586879709808", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 12, no: 12, nik :"816236123123123123", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 13, no: 13, nik :"123124234635686787", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 14, no: 14, nik :"906124162342634612", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1},
        { id: 15, no: 15, nik :"666666666666666666", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", payment_type :"payment parkir", name_status :"done", error_desc :"Success", time_request :"2019-11-21 00:05:09", amount :100, balance_before :172859.1, balance_after :172759.1}
    ],
    total: 20,
    per_page: 15,
    current_page: 2,
    last_page: 5,
    next_page_url: null,
    prev_page_url: null,
    from: 1,
    to: 10
}

const dataVirtualSaldo = {
    data: [
        { id: 1, no: 1, nik :"123547586879709808", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 },
        { id: 2, no: 2, nik :"816236123123123123", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 },
        { id: 3, no: 3, nik :"123124234635686787", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 },
        { id: 4, no: 4, nik :"906124162342634612", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 },
        { id: 5, no: 5, nik :"666666666666666666", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 },
        { id: 6, no: 6, nik :"123547586879709808", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 },
        { id: 7, no: 7, nik :"816236123123123123", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 },
        { id: 8, no: 8, nik :"123124234635686787", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 },
        { id: 9, no: 9, nik :"906124162342634612", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 },
        { id: 10, no: 10, nik :"666666666666666666", full_name :"Demo Mitra Marqir", location_name :"Ruko Royal Palace Prof. DR. Soepomo", last_topup_date :"2019-11-21 00:05:09", amount :100, last_topup :172859.1 }
    ],
    total: 20,
    per_page: 15,
    current_page: 2,
    last_page: 5,
    next_page_url: null,
    prev_page_url: null,
    from: 1,
    to: 10
}

const dataVirtualDoku = {
    data: [
        { no:1, nik: "123456", full_name :"LuckyTest", location_name: "Ruko Royal Palace Prof. DR. Soepomo", payment_date_time: "2019-11-01 10:47:28", totalamount :50000, trxstatus: "SUCCESS", payment_code : "8902230800000005"},
        { no:2, nik: "123456", full_name :"LuckyTest", location_name: "Ruko Royal Palace Prof. DR. Soepomo", payment_date_time: "2019-11-01 10:53:09", totalamount :50000, trxstatus: "<div class='resend'><a href='/doku/resend/85'\n onclick='javascript: return confirm(\"Resend Top Up Doku ?\")' class='btn btn-danger'> Resend </a></div>",payment_code: "1111111300000006"}
    ],
    total: 20,
    per_page: 15,
    current_page: 2,
    last_page: 5,
    next_page_url: null,
    prev_page_url: null,
    from: 1,
    to: 10
}


module.exports = {
    bind: function (app) {
        const path = '/virtual'
        const ListVirtual = '/ListReportVirtual'
        const ListVirtualSaldo = '/ListReportVirtualSaldo'
        const ListVirtualDoku = '/ListReportVirtualDoku'

        let myDataVirtual = dataVirtual
        let myDataVirtualSaldo = dataVirtualSaldo
        let myDataVirtualDoku = dataVirtualDoku

        app.get(`${path}${ListVirtual}`, (req, res) => {
            const host = req.headers.host
            // Website you wish to allow to connect
            res.setHeader('Access-Control-Allow-Origin', '*')
            res.setHeader('Content-Type', 'application/json')

            myDataVirtual.current_page++
            myDataVirtual.next_page_url = `http://${host}${path}${ListVirtual}?page=${myDataVirtual.current_page}`
            myDataVirtual.prev_page_url = `http://${host}${path}${ListVirtual}?page=${myDataVirtual.current_page - 2}`
            console.log(`Request to : /ListVirtual ${myDataVirtual}`)

            let filter = req.query.filter
            myDataVirtual.customFilter = filter
            // querystring.parse()
            res.end(JSON.stringify(myDataVirtual))
        })

        app.get(`${path}${ListVirtualSaldo}`, (req, res) => {
            const host = req.headers.host
            // Website you wish to allow to connect
            res.setHeader('Access-Control-Allow-Origin', '*')
            res.setHeader('Content-Type', 'application/json')

            myDataVirtualSaldo.current_page++
            myDataVirtualSaldo.next_page_url = `http://${host}${path}${ListVirtualSaldo}?page=${myDataVirtualSaldo.current_page}`
            myDataVirtualSaldo.prev_page_url = `http://${host}${path}${ListVirtualSaldo}?page=${myDataVirtualSaldo.current_page - 2}`
            myDataVirtualSaldo.from = myDataVirtualSaldo.current_page - 2
            myDataVirtualSaldo.to = myDataVirtualSaldo.current_page + 2
            console.log(`Request to : /ListVirtualSaldo ${myDataVirtualSaldo}`)

            let filter = req.query.filter
            myDataVirtualSaldo.customFilter = filter
            // querystring.parse()
            res.end(JSON.stringify(myDataVirtualSaldo))
        })

        /**
        data: [
            { no:1, nik: "123456", full_name :"LuckyTest", location_name: "Ruko Royal Palace Prof. DR. Soepomo", payment_date_time: "2019-11-01 10:47:28", totalamount :50000, trxstatus: "SUCCESS", payment_code : "8902230800000005"},
            { no:2, nik: "123456", full_name :"LuckyTest", location_name: "Ruko Royal Palace Prof. DR. Soepomo", payment_date_time: "2019-11-01 10:53:09", totalamount :50000, trxstatus: "<div class='resend'><a href='/doku/resend/85'\n onclick='javascript: return confirm(\"Resend Top Up Doku ?\")' class='btn btn-danger'> Resend </a></div>",payment_code: "1111111300000006"}
        ]
         */
        app.get(`${path}${ListVirtualDoku}`, (req, res) => {
            const host = req.headers.host
            // Website you wish to allow to connect
            res.setHeader('Access-Control-Allow-Origin', '*')
            res.setHeader('Content-Type', 'application/json')

            myDataVirtualDoku.current_page++
            myDataVirtualDoku.next_page_url = `http://${host}${path}${ListVirtualDoku}?page=${myDataVirtualDoku.current_page}`
            myDataVirtualDoku.prev_page_url = `http://${host}${path}${ListVirtualDoku}?page=${myDataVirtualDoku.current_page - 2}`
            myDataVirtualDoku.from = myDataVirtualDoku.current_page - 2
            myDataVirtualDoku.to = myDataVirtualDoku.current_page + 2
            console.log(`Request to : /ListVirtualDoku ${myDataVirtualDoku}`)

            let filter = req.query.filter
            myDataVirtualDoku.customFilter = filter
            // querystring.parse()
            res.end(JSON.stringify(myDataVirtualDoku))
        })


    }
}